<header class="app-header col-md-3 col-12" [class.collapsed]="!isNavbarCollapsed">
  <!-- Collapse sidebar -->
  <button class="btn-collapse" (click)="toggleSidebar()">
    <fa-icon icon="bars"></fa-icon>
  </button>
  <!-- Logout -->
  <ng-container *ngIf="account; else loginBtn">
    <button mat-button [matMenuTriggerFor]="accountMenu" style="color: white">
      <mat-icon style="width: 40px; height: 30px; font-size: 30px">account_box</mat-icon>
      <span *ngIf="!isNavbarCollapsed">{{ account.login }}</span>
    </button>
    <mat-menu #accountMenu="matMenu">
      <button mat-menu-item routerLink="/account/settings" (click)="closeAccountDropdown()">
        <mat-icon>settings_applications</mat-icon>
        <span>Cài đặt</span>
      </button>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        <span>Đăng xuất</span>
      </button>
    </mat-menu>
  </ng-container>

  <ng-template #loginBtn>
    <button mat-button (click)="login()" style="color: white">
      <mat-icon style="height: 30px; font-size: 30px; width: 30px">login</mat-icon>
      <span>Đăng nhập</span>
    </button>
  </ng-template>

  <!-- <button class="btn-logout" (click)="logout()">
    <fa-icon icon="sign-out-alt"></fa-icon>
    <span>Đăng xuất</span>
  </button> -->
</header>
<div id="sidebar-id" class="sidebar col-md-3" style="width: 60px">
  <a class="sidebar-brand logo" routerLink="/" (click)="collapseNavbar()">
    <img src="../../../content/images/logo-rang-dong.webp" alt="Logo-RangDong" class="sidebar-img" />
  </a>
  <div [ngSwitch]="account !== null">
    <nav id="manu-bar" style="max-width: 400px">
      <div class="sidebar-content" style="margin-right: 10px">
        <div class="sidebar-menu">
          <ul style="list-style-type: none; padding-left: 10px; margin-top: 2px">
            <li
              class="sidebar-menu-item"
              style="marker: none"
              *ngFor="let menu of menus"
              [ngClass]="{ active: menu.active, 'sidebar-dropdown': menu.type === 'dropdown' }"
            >
              <div class="sidebar-menu-link" *ngIf="menu.type !== 'header'" (click)="toggle(menu)" style="height: 50px">
                <div routerLink="/home" style="display: flex; align-items: center" *ngIf="menu.type === 'home'">
                  <mat-icon class="sidebar-menu-icon">home</mat-icon>
                  <a>
                    <span class="sidebar-menu-title">{{ menu.title }}</span>
                  </a>
                </div>
                <div style="display: flex; align-items: center" *ngIf="menu.type !== 'home'">
                  <mat-icon class="sidebar-menu-icon">{{ menu.icon }}</mat-icon>
                  <a>
                    <span class="sidebar-menu-title">{{ menu.title }}</span>
                  </a>
                </div>
              </div>
              <div *ngIf="menu.type === 'dropdown'" class="sidebar-submenu" [@slide]="getState(menu)">
                <ul>
                  <li class="sidebar-submenu-item" *ngFor="let submenu of menu.submenus">
                    <div class="sidebar-submenu-link">
                      <a class="sidebar-submenu-title" [routerLink]="submenu.link" style="display: flex; align-items: center; height: 100%">
                        {{ submenu.title }}
                      </a>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- <nav>
      <ul class="navbar-nav">
        <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
          <a class="nav-link" routerLink="/" (click)="collapseNavbar()" title="Home">
            <fa-icon class="icon-navbar" icon="home"></fa-icon>
            <span *ngIf="isNavbarCollapsed === false">Trang chủ</span>
          </a>
        </li>

        <li
          ngbDropdown
          class="nav-item-profile dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDownProfile()"
        >
          <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
            <span>
              <fa-icon class="icon-navbar" icon="bars"></fa-icon>
              <span *ngIf="isNavbarCollapsed === false">Profile Infor</span>
            </span>
          </a>
          <ul>
            <li class="nav-item">
              <a class="nav-link" routerLink="/quan-ly-thong-so" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Quản lý thông số</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/thiet-bi" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Quản lý thiết bị</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/kich-ban" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Quản lý kịch bản</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/san-xuat-hang-ngay" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Sản xuất hàng ngày</span>
              </a>
            </li>
          </ul>
        </li>

        <li
          ngbDropdown
          class="nav-item-stamp dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDownStamp()"
        >
          <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
            <span>
              <fa-icon class="icon-navbar" icon="bars"></fa-icon>
              <span *ngIf="isNavbarCollapsed === false">Tem In</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a class="nav-link" routerLink="/lenh-san-xuat" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Thông tin tem sản xuất</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" routerLink="/chi-tiet-lenh-san-xuat" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Quản lý phê duyệt</span>
              </a>
            </li>
          </ul>
        </li>

        <li
          ngbDropdown
          class="nav-item-stamp2 dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDownStamp2()"
        >
          <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
            <span>
              <fa-icon class="icon-navbar" icon="bars"></fa-icon>
              <span *ngIf="isNavbarCollapsed === false">Kiểm tra barcode</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a class="nav-link" routerLink="/quan-ly-thiet-bi" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Danh mục máy - thiết bị check</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/profile-check" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Kịch bản trạm kiểm tra đối chiếu</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/doi-chieu-lenh-san-xuat" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Kiểm soát đối chiếu lệnh sản xuất</span>
              </a>
            </li>
          </ul>
        </li>

        <li
          ngbDropdown
          class="nav-item-material dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDownMaterial()"
        >
          <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
            <span>
              <fa-icon class="icon-navbar" icon="bars"></fa-icon>
              <span *ngIf="isNavbarCollapsed === false">Quản lí vật tư</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a class="nav-link" routerLink="/list-material" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Danh sách vật tư</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/approve-material-update" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Quản lí đề nghị câp nhật</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="/approve-material-history" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span *ngIf="isNavbarCollapsed === false">Lịch sử phê duyệt</span>
              </a>
            </li>
          </ul>
        </li>

        <li
          ngbDropdown
          class="nav-item dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDown()"
        >
          <a
            class="nav-link dropdown-toggle"
            ngbDropdownToggle
            href="javascript:void(0);"
            id="account-menu"
            data-cy="accountMenu"
            [ngSwitch]="account !== null"
          >
            <span *ngSwitchCase="true">
              <fa-icon class="icon-navbar" icon="user"></fa-icon>
              <span *ngIf="isNavbarCollapsed === false">{{ account!.login }}</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a
                class="dropdown-item nav-link"
                routerLink="account/settings"
                routerLinkActive="active"
                (click)="collapseNavbar()"
                data-cy="settings"
              >
                <fa-icon class="icon-navbar" icon="wrench" [fixedWidth]="true"></fa-icon>
                <span jhiTranslate="global.menu.account.settings">Cài đặt</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="dropdown-item nav-link" (click)="logout()" id="logout" data-cy="logout">
                <fa-icon class="icon-navbar" icon="sign-out-alt" [fixedWidth]="true"></fa-icon>
                <span>Đăng xuất</span>
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </nav> -->
  </div>
  <!-- <button class="sidebar-collapse-btn" (click)="toggleSidebar()">
    <fa-icon icon="bars"></fa-icon>
  </button> -->
</div>
<!-- <nav *ngIf="account !== null">
  <div class="container-fluid">
    <div class="row">
      <nav id="sidebar">
        <a class="navbar-brand logo" routerLink="/" (click)="collapseNavbar()">
          <span class="logo-img"></span>
        </a>

        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" routerLink="/" (click)="collapseNavbar()">
              <fa-icon class="icon-navbar" icon="home"></fa-icon>
              <span>Trang chủ</span>
            </a>
          </li>

          <li
            ngbDropdown
            class="nav-item-profile dropdown pointer"
            display="dynamic"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            style="list-style-type: none"
            (click)="toggleDropDownProfile()"
          >
            <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
              <span>
                <fa-icon class="icon-navbar" icon="bars"></fa-icon>
                <span>Profile Infor</span>
              </span>
            </a>

            <ul>
              <li class="nav-item">
                <a class="nav-link" routerLink="quan-ly-thong-so" (click)="collapseNavbar()">
                  <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span>Quản lý thông số</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" routerLink="thiet-bi" (click)="collapseNavbar()">
                  <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span>Quản lý thiết bị</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" routerLink="kich-ban" (click)="collapseNavbar()">
                  <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span>Quản lý kịch bản</span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" routerLink="san-xuat-hang-ngay" (click)="collapseNavbar()">
                  <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                  <span>Sản xuất hàng ngày</span>
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <li
          ngbDropdown
          class="nav-item-stamp dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDownStamp()"
        >
          <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);">
            <span>
              <fa-icon class="icon-navbar" icon="bars"></fa-icon>
              <span>Tem In</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a class="nav-link" routerLink="lenh-san-xuat" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span>Thông tin tem sản xuất</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="chi-tiet-lenh-san-xuat" (click)="collapseNavbar()">
                <fa-icon class="icon-navbar" icon="asterisk" [fixedWidth]="true"></fa-icon>
                <span>Quản lý phê duyệt</span>
              </a>
            </li>
          </ul>
        </li>

        <li
          ngbDropdown
          class="nav-item dropdown pointer"
          display="dynamic"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          style="list-style-type: none"
          (click)="toggleDropDown()"
        >
          <a
            class="nav-link dropdown-toggle"
            ngbDropdownToggle
            href="javascript:void(0);"
            id="account-menu"
            data-cy="accountMenu"
            [ngSwitch]="account !== null"
          >
            <span *ngSwitchCase="true">
              <fa-icon class="icon-navbar" icon="user"></fa-icon>
              <span *ngIf="account">{{ account.login }}</span>
            </span>
          </a>

          <ul>
            <li class="nav-item">
              <a
                class="dropdown-item nav-link"
                routerLink="account/settings"
                routerLinkActive="active"
                (click)="collapseNavbar()"
                data-cy="settings"
              >
                <fa-icon class="icon-navbar" icon="wrench" [fixedWidth]="true"></fa-icon>
                <span jhiTranslate="global.menu.account.settings">Cài đặt</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="dropdown-item nav-link" (click)="logout()" id="logout" data-cy="logout">
                <fa-icon class="icon-navbar" icon="sign-out-alt" [fixedWidth]="true"></fa-icon>
                <span>Đăng xuất</span>
              </a>
            </li>
          </ul>
        </li>
      </nav>
    </div>
  </div>
</nav> -->
