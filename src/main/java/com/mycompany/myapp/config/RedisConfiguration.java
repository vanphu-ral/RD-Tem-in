// package com.mycompany.myapp.config;
// import org.springframework.cache.annotation.EnableCaching;
// import org.springframework.context.annotation.Bean;
// import org.springframework.context.annotation.Configuration;
// import org.springframework.data.redis.cache.RedisCacheConfiguration;
// import org.springframework.data.redis.cache.RedisCacheManager;
// import org.springframework.data.redis.connection.RedisConnectionFactory;
// import org.springframework.data.redis.core.RedisTemplate;
// import
// org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;
// import org.springframework.data.redis.serializer.StringRedisSerializer;
// import java.time.Duration;
// @Configuration
// @EnableCaching
// public class RedisConfiguration {
// @Bean
// public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory
// connectionFactory) {
// RedisTemplate<String, Object> template = new RedisTemplate<>();
// template.setConnectionFactory(connectionFactory);
// template.setKeySerializer(new StringRedisSerializer());
// template.setValueSerializer(new GenericJackson2JsonRedisSerializer());
// template.setHashKeySerializer(new StringRedisSerializer());
// template.setHashValueSerializer(new GenericJackson2JsonRedisSerializer());
// template.afterPropertiesSet();
// return template;
// }
// @Bean
// public RedisCacheManager cacheManager(RedisConnectionFactory
// connectionFactory) {
// RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig()
// .entryTtl(Duration.ofHours(1)) // TTL mặc định
// .serializeKeysWith(RedisCacheConfiguration.SerializationPair.fromSerializer(new
// StringRedisSerializer()))
// .serializeValuesWith(RedisCacheConfiguration.SerializationPair.fromSerializer(new
// GenericJackson2JsonRedisSerializer()));
// return RedisCacheManager.builder(connectionFactory)
// .cacheDefaults(config)
// .build();
// }
// }
